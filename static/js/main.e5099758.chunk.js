(this["webpackJsonplibrary-management"]=this["webpackJsonplibrary-management"]||[]).push([[0],{115:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),l=t.n(o),c=(t(96),t(66)),s=t(47),i=t.n(s),u=t(62),m=t(25),d=t(26),h=t(28),b=t(27),p=t(29),g=(t(98),t(38)),v={books:"/book",cart:"/cart",login:"/login"},f=function(e){function a(){return Object(m.a)(this,a),Object(h.a)(this,Object(b.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("img",{src:t(99),alt:"loading"}))}}]),a}(r.a.Component),E=t(57),k=t(58),y=t(77),C=t.n(y),O=t(50),w=t.n(O),P=t(55),L=t(158),A=t(159),S=t(160),j=t(161),x=t(162),N=function(e){var a=e.id,t=e.title,n=e.author,o=e.genre,l=(e.totalBooks,e.year),c=e.availability,s=e.image,i=e.book,u=e.handleAddToCart,m=e.handleRemoveFromCart,d=e.cart,h=e.availableDate;return r.a.createElement(L.a,{id:a},r.a.createElement(A.a,{src:s,alt:"loading"}),r.a.createElement(S.a,null,r.a.createElement("h3",null,t),r.a.createElement(j.a,null," ","Author : ".concat(n)),r.a.createElement(j.a,null,"Genre : ",o),r.a.createElement(j.a,null,"Year : ",l),r.a.createElement(x.a,null,r.a.createElement("strong",null,"yes"==c?r.a.createElement(P.a,{pill:!0,variant:"success",className:"badge-size"},"Available"):r.a.createElement(P.a,{pill:!0,variant:"danger"},"Unavailable"),"no"==c?r.a.createElement(P.a,{pill:!0,variant:"danger",className:"badge-size"},"Available on : ".concat(h)):"")),d.find((function(e){return e.id===a}))?r.a.createElement("button",{className:"btn btn-danger",onClick:m.bind(void 0,i)},r.a.createElement(w.a,null),"Remove from cart"):r.a.createElement("button",{disabled:"no"==c,className:"btn btn-primary",onClick:u.bind(void 0,i)},r.a.createElement(C.a,null),"Add to cart")))},B=(t(116),function(e){var a=e.searchType,t=e.placeholderText,n=e.onChange;return console.log(),r.a.createElement("div",{className:"container"},r.a.createElement("input",{className:"form-control",type:a,placeholder:t,"aria-label":"Search",onChange:n}))}),T=t(81),D=t(165),F=t(22),I=Object(T.a)((function(e){return{root:{display:"flex",flexDirection:"column"},formControl:{margin:e.spacing(3)},row:{display:"flex",justifyContent:"center"},margin:{margin:e.spacing(2)}}})),R=function(e){var a=e.cart,t=(e.handleRemoveFromCart,I());return r.a.createElement(F.b,{to:{pathname:"/cart"}},r.a.createElement(D.a,{color:a.length>0?"secondary":"primary",max:10,badgeContent:a.length,showZero:!0,className:t.margin},r.a.createElement(E.a,{icon:k.a,size:"3x"})))},U=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(r)))).state={},t.SearchBook=function(e){t.props.handleSearch(e)},t.handleSubmit=function(e){e.preventDefault()},t}return Object(p.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this.props,a=e.bookList,t=e.cart,o=e.availableDate,l=e.handleRemoveFromCart,c=e.handleAddToCart;e.handleSearch,e.isAuthenticated;return r.a.createElement(n.Fragment,null,r.a.createElement(B,{className:"container",searchType:"search",placeholderText:"Search for Books",onChange:this.SearchBook,btnType:"submit",onClick:this.handleSubmit}),r.a.createElement("h3",null,"List of Books"),a.length?r.a.createElement("div",{className:"container box"},a.map((function(e,a){return r.a.createElement(N,{id:e.id,index:a,title:e.title,totalBooks:e.noOfBooks,author:e.author,genre:e.genre,year:e.yearOfPublication,availability:e.availability,image:e.image,book:e,cart:t,availableDate:o,handleAddToCart:c,handleRemoveFromCart:l})}))):0==a.length?r.a.createElement("p",null,"No books available in the given name"):r.a.createElement(f,null))}}]),a}(n.Component),H=(t(108),t(180)),W=t(181),z=t(182),M=t(183),G=t(184),J=t(185),Y="https://my-json-server.typicode.com/gsprasanna/json-server",q="/data",Z="/users",$=function(e){var a=Y+e;return new Promise((function(e,t){fetch(a).then((function(e){return e.json()})).then((function(a){e(a)})).catch((function(e){t(e)}))}))},K=t(188),Q=t(166),V=t(172),X=t(173),_=t(175),ee=t(174),ae=t(167),te=t(171),ne=t(170),re=t(168),oe=t(169),le=function(e){var a=e.cart,t=e.handleRemoveFromCart,n=(e.backToBookPage,e.modal),o=e.toggle,l=e.backdrop,c=e.keyboard,s=e.handleCheckOut;return r.a.createElement("div",null,a.length?r.a.createElement(K.a,{isOpen:n,toggle:o,id:a.id,backdrop:l,size:"lg",keyboard:c},r.a.createElement(Q.a,null,r.a.createElement(ae.a,null,r.a.createElement(re.a,null),r.a.createElement(oe.a,null,r.a.createElement(ne.a,null),r.a.createElement(ne.a,null,r.a.createElement("strong",null,"Book Title")),r.a.createElement(ne.a,null,r.a.createElement("strong",null,"Author")),r.a.createElement(ne.a,null,r.a.createElement("strong",null,"Published Year"))),a.map((function(e,n){return r.a.createElement(te.a,null,r.a.createElement(oe.a,null,r.a.createElement(ne.a,null,r.a.createElement("img",{className:"thumbnail",src:e.image,alt:"loading"})),r.a.createElement(ne.a,null,r.a.createElement("strong",null,e.title)),r.a.createElement(ne.a,null,r.a.createElement("p",null,e.author)),r.a.createElement(ne.a,null,r.a.createElement("p",null,e.yearOfPublication)),r.a.createElement(ne.a,null,r.a.createElement(V.a,{className:"btn btn-danger",onClick:t.bind(void 0,e,a)},r.a.createElement(w.a,null)))))})))),r.a.createElement(X.a,null,r.a.createElement(F.c,{to:v.books},r.a.createElement(V.a,{color:"primary",onClick:s.bind(void 0,a)},"Check out")),r.a.createElement(F.c,{to:v.books},r.a.createElement(V.a,{color:"secondary"},"Cancel"))),r.a.createElement(X.a,null,3==a.length?r.a.createElement(ee.a,{color:"danger"},'"you have added the maximum number of books to the cart!"'):r.a.createElement(ee.a,{color:"primary"},"still you can add ",3-a.length," books"))):r.a.createElement(K.a,{isOpen:n,toggle:o,id:a.id,backdrop:l,keyboard:c},r.a.createElement(_.a,null,"Hi Buddy!"),r.a.createElement(Q.a,null,"Please Add the books to the cart!"),r.a.createElement(X.a,null,r.a.createElement(F.c,{to:v.books},r.a.createElement(V.a,{color:"secondary"},"Cancel")))))},ce=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(r)))).state={cart:[],modal:!0,backdrop:"static",keyboard:!1},t.toggle=function(){t.setState((function(e){return{modal:!e.modal}}))},t.backToBookPage=function(){},t}return Object(p.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setState({cart:this.props.cart})}},{key:"render",value:function(){var e=this.state,a=e.modal,t=e.backdrop,n=e.keyboard;return r.a.createElement(le,{cart:this.props.cart,modal:a,toggle:this.toggle,keyboard:n,handleRemoveFromCart:this.props.handleRemoveFromCart,backToBookPage:this.backToBookPage,backdrop:t,handleCheckOut:this.props.handleCheckOut})}}]),a}(n.Component),se=t(178),ie=t(177),ue=t(186),me=t(179),de=t(187),he=t(82),be=t.n(he),pe=t(117),ge=t(176),ve=Object(T.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),fe=function(e){e.users,e.isAuthenticated;var a=e.onUsernameChange,t=e.onPasswordChange,n=e.checkLogin,o=e.customInputLabel,l=e.customInputPlaceholder,c=e.customPasswordLabel,s=e.customPasswordPlaceholder,i=ve();return r.a.createElement(ge.a,{component:"main",maxWidth:"xs"},r.a.createElement(ie.a,null),r.a.createElement("div",{className:i.paper},r.a.createElement(se.a,{className:i.avatar},r.a.createElement(be.a,null)),r.a.createElement(pe.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:i.form,onSubmit:n},r.a.createElement(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:o,placeholder:l,name:"username",autoComplete:"username",autoFocus:!0,onChange:a}),r.a.createElement(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:c,placeholder:s,type:"password",id:"password",autoComplete:"current-password",onChange:t}),r.a.createElement(me.a,{control:r.a.createElement(de.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(V.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit},"Sign In"))))},Ee=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(r)))).state={users:[]},t}return Object(p.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setState({users:this.props.users})}},{key:"render",value:function(){var e=this.state.users,a=this.props,t=a.isAuthenticated,n=a.onUsernameChange,o=a.onPasswordChange,l=a.checkLogin,c=a.customInputLabel,s=a.customInputPlaceholder,i=a.customPasswordLabel,u=a.customPasswordPlaceholder;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Smart Library"),r.a.createElement(fe,{users:e,isAuthenticated:t,onUsernameChange:n,onPasswordChange:o,checkLogin:l,customInputLabel:c,customInputPlaceholder:s,customPasswordLabel:i,customPasswordPlaceholder:u}))}}]),a}(n.Component),ke=t(83),ye=t.n(ke),Ce=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(r)))).state={bookList:[],setBookList:[],cart:[],bookNextAvailability:"",isOpen:!1,users:[],isAuthenticated:!1,username:"",password:"",customInputLabel:"Username",customInputPlaceHolder:"Enter the Name",customPasswordLabel:"Password",customPasswordPlaceHolder:"Enter the Password"},t.loadUsersData=Object(u.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,$(Z,"GET");case 4:a=e.sent,t.setState({users:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),t.onUsernameChange=function(e){t.setState({username:e.target.value})},t.onPasswordChange=function(e){t.setState({password:e.target.value})},t.checkLogin=function(e){e.preventDefault();var a=t.state,n=a.username,r=a.password,o=a.users,l=(a.isAuthenticated,t.props),c=l.history;l.location;if(o.filter((function(e){return e.name==n}))[0].password===r){t.state.isAuthenticated;t.setState({isAuthenticated:!0});var s={username:t.state.username,isAuthenticated:!0};localStorage.setItem("localAuth",JSON.stringify(s)),c.push(v.books)}else alert("Please enter the valid credentials")},t.signOut=function(){t.setState({isAuthenticated:!1}),localStorage.removeItem("localAuth"),t.props.history.push("/login")},t.loadPostData=Object(u.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$(q,"GET");case 3:a=e.sent,t.setState({bookList:a,setBookList:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),t.toggle=function(){t.setState({isOpen:!t.state.isOpen})},t.handleSearch=function(e){var a=Object(c.a)(t.state.bookList),n=[];n=""!==e.target.value?a.filter((function(a){a.title.toLowerCase();var t=e.target.value;return a.title.toLowerCase().includes(t.toLowerCase())||a.author.toLowerCase().includes(t.toLowerCase())||a.genre.toLowerCase().includes(t.toLowerCase())||a.yearOfPublication.toString().includes(t.toString())})):t.state.setBookList,t.setState({bookList:n})},t.handleAddToCart=function(e){var a=t.state.cart,n=a.find((function(a){return a.id===e.id}));a.length<3?!n&&e.noOfBooks>0?(e.noOfBooks=e.noOfBooks-1)&&t.setState({cart:[].concat(Object(c.a)(t.state.cart),[e])}):e.noOfBooks="Stock not available":alert("you reached the maximum number of books added to the cart!")},t.handleRemoveFromCart=function(e){var a=t.state.cart.filter((function(a){return a.id!==e.id}));e.noOfBooks=++e.noOfBooks,t.setState({cart:a})},t.handleCheckOut=function(e){var a=t.state,n=a.bookList,r=(a.bookNextAvailability,[]),o=function(a){r=n.filter((function(t){return t.id===e[a].id?t.availability="no":t.availability}))};for(var l in e)o(l);var c=new Date;c.setDate(c.getDate()+5);var s=c.getDate()+"/"+c.getMonth()+"/"+c.getFullYear();t.setState({bookList:r,cart:[],bookNextAvailability:s})},t}return Object(p.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.state;e.username,e.isAuthenticated;this.loadPostData(),this.loadUsersData();var a=this.props,t=a.history;"/"===a.location.pathname&&!1===this.state.isAuthenticated&&t.push(v.login)}},{key:"render",value:function(){var e=this,a=this.state,t=a.cart,n=a.bookList,o=a.isOpen,l=a.users,c=a.isAuthenticated,s=a.customInputLabel,i=a.customInputPlaceHolder,u=a.customPasswordLabel,m=a.customPasswordPlaceHolder,d=a.bookNextAvailability;return r.a.createElement("div",{className:"App"},c?r.a.createElement(H.a,{color:"lightgreen",light:!0,expand:"md"},r.a.createElement(W.a,{to:v.books},"Smart Library"),r.a.createElement(z.a,{onClick:this.toggle}),r.a.createElement(M.a,{isOpen:o,navbar:!0},r.a.createElement(G.a,{className:"ml-auto",navbar:!0},r.a.createElement(J.a,null,r.a.createElement(R,{cart:t,handleRemoveFromCart:this.handleRemoveFromCart},"Cart")),r.a.createElement(J.a,null,r.a.createElement(ye.a,{className:"user-icon"}),r.a.createElement("button",{onClick:this.signOut},"Sign out"))))):r.a.createElement("div",{className:"container"},r.a.createElement(Ee,{users:l,isAuthenticated:c,onUsernameChange:this.onUsernameChange,onPasswordChange:this.onPasswordChange,checkLogin:this.checkLogin,customInputLabel:s,customInputPlaceHolder:i,customPasswordLabel:u,customPasswordPlaceHolder:m})),r.a.createElement(g.b,{path:v.cart,render:function(){return c?r.a.createElement(ce,{cart:t,handleRemoveFromCart:e.handleRemoveFromCart,handleCheckOut:e.handleCheckOut}):r.a.createElement(g.a,{to:{pathname:"/login"}})}}),r.a.createElement(g.b,{path:v.books,render:function(){return c?r.a.createElement(U,{bookList:n,cart:t,availableDate:d,handleAddToCart:e.handleAddToCart,handleRemoveFromCart:e.handleRemoveFromCart,handleSearch:e.handleSearch,isAuthenticated:c}):r.a.createElement(g.a,{to:{pathname:"/login"}})}}))}}]),a}(n.Component),Oe=Object(g.f)(Ce);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(F.a,null,r.a.createElement(Oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},91:function(e,a,t){e.exports=t(115)},96:function(e,a,t){},98:function(e,a,t){},99:function(e,a,t){e.exports=t.p+"static/media/loading.81c29bc5.gif"}},[[91,1,2]]]);
//# sourceMappingURL=main.e5099758.chunk.js.map